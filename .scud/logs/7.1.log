--- 2026-02-14 11:42:34 ---
snapshot.zig implements createSnapshot (mksquashfs with zstd/gzip detection), restoreSnapshot (unmount/clear/remount with recovery), activateSnapshot (atomic copy to modules dir), and reinjectSecretPlaceholders. Uses RestoreParams struct for overlay remount atomicity. All paths use validate.validLabel for security.

